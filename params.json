{"name":"Fuller","tagline":"Build everything with right tool","body":"# Fuller #\r\n## Build everything with right tool##\r\n\r\n_Richard Buckminster \"Bucky\" Fuller was an American systems theorist, architect, engineer, author, designer, inventor, and futurist_\r\n\r\n## Install ##\r\n    npm install fuller -g\r\n\r\n## Usage ##\r\n    fuller [-w] [-z] [-v] [--src] [--dst] [--taskName] [--toolSetName]\r\n\r\n```\r\n--watch, -w     Watch source directory for changes\r\n--src           Relative path to directory with source files\r\n--dst           Relative path to directory for compiled files\r\n--dev, -z       Developer version (usually this means no minifing and compressions, but depends from plugin)\r\n--verbose, -v   Verbose mode\r\n--taskName      Run task from plan\r\n--toolSetName   Run toolSet from plan\r\n```\r\n\r\n## Plan ##\r\nSo Mr. Fuller needs a plan to build something. All plans looks like this:\r\n\r\n```js\r\nplan = {\r\n    defaults,\r\n    tasks,\r\n    tools: {\r\n        toolName: toolPlan\r\n    }\r\n}\r\n```\r\n\r\nIf you don't need tool's plan tools section can be a simple array.\r\n```js\r\nplan = {\r\n    defaults,\r\n    tasks,\r\n    tools: [\"toolName1\", \"toolName2\"]\r\n}\r\n```\r\n\r\nAt start fuller trying to find plan.js file in current directory. So global plan is a simple module:\r\n\r\n```js\r\nvar defaults = {\r\n    src: \"./src\",\r\n    dst: \"./\",\r\n    dev: true\r\n};\r\n\r\nvar js = {\r\n    \"out/script.js\": [\r\n        \"src1.js\",\r\n        \"src2.js\"\r\n    ]\r\n};\r\n\r\nvar less = {\r\n        \"out.css\": \"src.less\"\r\n};\r\n\r\nvar tasks = {\r\n    //look for further explanation in the text below\r\n}\r\n\r\nmodule.exports = {\r\n    defaults: defaults,\r\n    tasks: tasks,\r\n    tools : {\r\n        concat: {\r\n            tasks: js, \r\n            defaults: {\r\n                src: defaults.src + \"/js\"\r\n            },\r\n            tools: ['common-js', 'uglify']\r\n        },\r\n        less: {tasks: less},\r\n    }\r\n};\r\n```\r\n\r\nIn global plan you can make named tool sets. And run single tool set from command line. For example:\r\n```js\r\nmodule.exports = {\r\n    defaults: defaults,\r\n    tasks: tasks,\r\n\r\n    \"static\": {\r\n        defaults: {\r\n            dst: defaults.dst + \"static\"\r\n        },\r\n        tools : {\r\n            concat: {\r\n                tasks: js, \r\n                defaults: {\r\n                    src: defaults.src + \"/js\"\r\n                },\r\n                tools: ['common-js', 'uglify']\r\n            },\r\n            less: {tasks: less},\r\n        },\r\n    }\r\n};\r\n```\r\n\r\nif you didn't make tool set, it's means `\"default\"` tool set. And it will be run on fuller start.\r\n\r\n## Tools ##\r\nThis is about right tools. But what is a Tool? Tool is a plugin, that building something according to plan. \r\n\r\nWhat's interesting tools can use another tools...\r\n```js\r\nplan: {\r\n    tools: {\r\n        tool1: {\r\n            tools: {\r\n                tool2: etc;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**;)**\r\n\r\nYou should include tools' packages in your project's package.json\r\n\r\n### Tools API ###\r\nNeeds to be written. \r\nBut you can check fuller's tools.\r\n\r\n### Defaults ###\r\nYou can specify defaults option in global section, or in tool's part of the plan.\r\n\r\n#### File tools ####\r\nAlso fuller has special purpose file tools. You can load in your plugin with a fuller.getTool('files').\r\n\r\n* __concat(path, arrayFileNames, [prependString], [appendString])__ — concatenates files with base path and strings for appeding and prepending to result.\r\n* __treeToArray(srcPath, files)__ — converts path and array of files to array of full paths to files\r\n* __writeForce(pathFile, data, cb)__ — writes file, but if destination directory not exist creates it.\r\n* __addDependence(deps, master, slave)__ — adds depenencies to deps object\r\n* __mkdirp__ — make path\r\n* __watchFiles(root, arrayFileNames, cb)__ — adds watchers and run cb on files changes.\r\n\r\n## Global tasks\r\nYou can specify your own tasks in plan:\r\n```js\r\ntasks = {\r\n    start: function(fuller, defaults) {\r\n        fuller.build();             //builds everything\r\n        fuller.run('bin/cmd start') //run cmd\r\n    }\r\n}\r\n```\r\nand then just run it `fuller --start`\r\n\r\nDon't forget about verbose mode here if you needed.\r\n\r\nThe fuller var in your task function is a pointer to global fuller object.\r\n\r\n* __fuller.plan__ — your plan\r\n* __fuller.build()__ — builds everything.\r\n* __fuller.watch()__ — watch for changes in all  tools.\r\n* __fuller.run(cmd)__ — run cmd\r\n* __fuller.verbose.log(str)__ — print str to console if fuller in verbose mode\r\n* __fuller.getTool('toolName')__ — return tool instance\r\n\r\nBonus, you can specify dev task. It'll be run before all others tasks when you'll use -z(--dev) key.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}